{% from "../ui/form.html" import dropzone %}

<div class="form-control form-control_radio">
	<label class="radio radio_active">
		<input type="radio" name="radio_selector" class="radio__input" checked="checked" value="dropzone">
		<span class="radio__icon"></span>
		I will upload pictures by myself
	</label>
	<div class="radio__box radio__box_dropzone radio__box_error">
		{{ form.dropzone_loaded('Drop pictures here or click to upload.', dropzone1)}}
		<div class="radio__message">
			Some images have not attributes title and/or alt
		</div>
	</div>
</div>

<div class="form-control form-control_radio">
	<label class="radio">
		<input type="radio" name="radio_selector" class="radio__input" value="libusing">
		<span class="radio__icon"></span>
		I want to use picture from standard library
	</label>
	<div class="radio__box radio__box_dropzone radio__box_error">
		{{ form.dropzone('Drop files here or click to upload.', dropzone2)}}
		<div class="radio__message">
			You must select one of them
		</div>
	</div>
</div>

<script type="text/javascript">
	var radio = document.getElementsByName('radio_selector');
	var radioValue;

	radio.forEach(function(entry) {
		if (entry.parentElement.classList.contains('radio_active')) {
			radioValue = entry;
		}

		entry.addEventListener('change', function() {
			if (radioValue) {
				radioValue.parentElement.classList.remove('radio_active')
			} 
			entry.parentElement.classList.add('radio_active');
			radioValue = entry;
			
		});
	});

	
	var open_btns = document.querySelectorAll('.img-box__set-seo');
	var close_btns = document.querySelectorAll('.service-link');
	// img-box__seo-param_shown
	open_btns.forEach(function(entry) {
		entry.addEventListener('click', function() {
			entry.parentElement.parentElement.querySelector('.img-box__seo-param').classList.add('img-box__seo-param_shown');
		});
	});

	close_btns.forEach(function(entry) {
		entry.addEventListener('click', function() {
			entry.parentElement.classList.remove('img-box__seo-param_shown');
		});
	});
	

</script>